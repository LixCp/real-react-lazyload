module.exports=function(t){var n={};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=n,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(r,e){if(1&e&&(r=o(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var n in r)o.d(t,n,function(e){return r[e]}.bind(null,n));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="",o(o.s=1)}([function(e,r){e.exports=require("react")},function(e,r,t){"use strict";t.r(r),t.d(r,"RealLazyLoad",function(){return u}),t.d(r,"forceVisible",function(){return o});var S=t(0),A=t.n(S);function p(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x(e,r,t){var n,o=!(2<arguments.length&&void 0!==t)||t;console.log("Test",e,r),!M.has(e.observer)||(n=M.get(e.observer)).delete(e)&&(0<n.size?e.observer.unobserve(r):!0===o&&(e.observer.disconnect(),M.delete(e.observer)))}var o=function(){for(var e,r=M.values();e=r.next().value;)for(var t=e.values(),n=void 0;n=t.next().value;)n.forceVisible()},h=/^-?\d*\.?\d+(px|%)$/,M=new Map,E=function(e,r){for(var t=0;t<e.length;t++){var n=i(r,e[t]);n&&n.callback(e[t])}},i=function(e,r){var t=M.get(e);if(t)for(var n,o=t.values();n=o.next().value;)if(console.log("findObserverElement",n,r),n.target.current==r.target)return n},C=function(e){for(var r,t,n,o,i,a,u,l,c,s,f,v=0<arguments.length&&void 0!==e?e:{},d=v.root||null,b=(r=v.rootMargin,t=p((r?r.trim():"0px").split(/\s+/).map(function(e){if(!h.test(e))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return e}),4),n=t[0],o=void 0===n?"0px":n,i=t[1],a=void 0===i?o:i,u=t[2],l=void 0===u?o:u,c=t[3],s=void 0===c?a:c,"".concat(o," ").concat(a," ").concat(l," ").concat(s)),g=Array.isArray(v.threshold)?v.threshold:[null!=v.threshold?v.threshold:0],y=M.keys();f=y.next().value;){if(!(d!==f.root||b!==f.rootMargin||function t(n,o){return Array.isArray(n)&&Array.isArray(o)&&n.length===o.length?n.some(function(e,r){return t(n[r],o[r])}):n!==o}(g,f.thresholds)))return f}return null};function I(r){r.targets.filter(function(e){return x(r,e.current),!1})}var L="IntersectionObserver"in window,R=!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent);function V(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var u=function(e){var r=e.children,t=e.height,n=e.placeholder,o=e.visibleByDefault,i=void 0!==o&&o,a=e.root,u=e.rootMargin,l=e.forceVisible,c=void 0!==l&&l,s=e.componentEntryCallback,f=e.once,v=void 0===f||f,d=V(Object(S.useState)(!0===i||1==c),2),b=d[0],g=d[1],y=V(Object(S.useState)(c||!1),2),p=y[0],h=y[1];console.log(R,L);function m(){!1===b&&g(!0),!0===b&&!1!==v&&(console.log("going to Unobserve"),I(O.current))}var w=Object(S.useRef)(),O=Object(S.useRef)({observer:void 0,target:void 0,targets:[],callback:function(e){console.log("callback called! Visible is: ".concat(b)),(e.isIntersecting||0<e.intersectionRatio)&&(null==s||"function"==typeof s&&s())&&m()},forceVisible:function(){!1===b&&g(!0),h(!0),console.log("going to Unobserve with forceVisibleCall"),I(O.current)}});!0===c&&!1===p&&(console.log("going to Unobserve with forceVisible Props"),I(O.current)),Object(S.useEffect)(function(){if(!0===c||!0===b&&!0===v)return function(){};if(0==L||R)return g(!0),h(!0),function(){};var e,r={};return a&&(r.root=a),u&&(r.rootMargin=u),O.current.observer=C(e=r)||new IntersectionObserver(E,e),console.log("RealLazyLoad Component start observe! ",O.current.observer,w.current),function(){console.log("Going to Unobserve when component unmount"),I(O.current)}},[]),Object(S.useEffect)(function(){var e;return!1!==p||!0===c||0!=b&&!1!==v||(O.current.target=w,O.current.targets.push(w),L&&!R&&(e=O.current,M.has(e.observer)||M.set(e.observer,new Set),M.get(e.observer).add(e),e.observer.observe(e.target.current))),function(){x(O.current,O.current.target.current,!1)}},[O.current.target]),console.log("Component Renders with state[visible] = ".concat(b));var j={width:"100%"};return t&&(j.height=t+"px"),b||!0===c?A.a.cloneElement(A.a.Children.only(r),{ref:w}):n?A.a.cloneElement(A.a.Children.only(n),{ref:w}):A.a.createElement("div",{className:"RealLazyLoad-placeholder",style:j,ref:w})};u.displayName="RealLazyLoad Component"}]);